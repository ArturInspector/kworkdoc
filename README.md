# Генератор договоров

Веб-приложение для автоматической генерации договоров по ИНН компании.

## Быстрый старт

### 1. Установка зависимостей

```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# или venv\Scripts\activate на Windows

pip install -r requirements.txt
```

### 2. Настройка окружения

Создайте файл `.env`:
```bash
SECRET_KEY=your-secret-key-here
FLASK_ENV=development
```

### 3. Создание пользователя

```bash
python create_user.py
```

Введите логин и пароль для первого пользователя.

### 4. Запуск приложения

```bash
python run.py
```

Приложение будет доступно по адресу: http://localhost:5000

## ⚠️ Важно!

Перед первым использованием нужно добавить шаблон договора:
- Поместите файл `contract_template.docx` в папку `templates/`
- В шаблоне используйте плейсхолдеры в формате `{{ variable_name }}`

## Тестовые данные

Для тестирования доступны следующие ИНН:
- `7707083893` - ООО "РОМАШКА"
- `1234567890` - ИП Петров П.П.

## Структура проекта

```
kworkdoc/
├── app/
│   ├── __init__.py          # Инициализация Flask
│   ├── auth.py              # Аутентификация
│   ├── routes.py            # Роуты
│   ├── models.py            # Модели БД
│   ├── inn_service.py       # API сервис
│   ├── document_generator.py # Генерация DOCX
│   └── templates/           # HTML шаблоны
├── templates/               # DOCX шаблоны договоров
├── instance/                # База данных (создается автоматически)
├── config.py                # Конфигурация
├── requirements.txt         # Зависимости
└── run.py                   # Точка входа
```

## Доступные плейсхолдеры для шаблона

В файле `contract_template.docx` можно использовать:

**Основные данные:**
- `{{ inn }}` - ИНН
- `{{ kpp }}` - КПП
- `{{ ogrn }}` - ОГРН
- `{{ company_name }}` - Краткое название
- `{{ full_name }}` - Полное название
- `{{ address }}` - Адрес
- `{{ director }}` - ФИО директора
- `{{ director_position }}` - Должность
- `{{ current_date }}` - Текущая дата
- `{{ contract_number }}` - Номер договора

**Условные переменные:**
- `{{ legal_text }}` - Текст об основании действия
- `{{ capital_text }}` - Текст об уставном капитале
- `{% if is_ooo %}...{% endif %}` - Условие для ООО
- `{% if is_ip %}...{% endif %}` - Условие для ИП

## Что дальше?

1. Получите от клиента шаблон договора
2. Заполните плейсхолдеры в шаблоне
3. Протестируйте генерацию
4. Уточните логику ветвлений
5. Деплой на VPS (инструкции будут позже)

